# このファイルの内容

- このプロジェクトの構成管理のルールを定めたファイルです．アプリ開発時には必ずこのファイルの構成管理ルールに従うこと．

# ブランチ運用ルール

- GitHub Flow を採用しています．
  - つまり，本番環境と対応する「main」ブランチがあり，全ての変更・バグフィックスは main ブランチから branch した作業ブランチで行います．
- ブランチ名のルール
  - 機能追加・改修を行う場合は「feature/(そのブランチの改修内容を示す端的なタイトル)」とすること．
    - 例：PWA 対応を行う場合　 ⇒ 　 feature/pwa など
  - バグフィックスを行う場合は「fix/(その修正内容を示す端的なタイトル)」とすること．
    - 例：アイコン画像に誤りがあり差し替えをする場合　 ⇒ 　 fix/icon など

# コミットルール

- GitHub Flow を採用していますから，main ブランチに直接コミットすることは禁止します．
  前述のブランチ運用ルールに沿って，全ての変更はまず作業ブランチに対して行います．
  ファイルを変更する前，および git commit する前に，main ブランチで作業していないかを確認してください．
- commit メッセージは以下のルールとします．
  - 改善・修正内容の対象 issue があるとき
    - その issue がバグフィックス（ラベルに「bug」がついているもの）のとき："fix #(issue の番号): (issue のタイトル)"
    - その issue がバグフィックス（ラベルに「bug」がついているもの）**以外**のとき："close #(issue の番号): (issue のタイトル)"
  - 改善・修正内容の対象 issue がないとき
    - その修正内容がバグフィックスのとき："fix: (修正内容を簡潔に示すタイトル)"
    - その修正内容がバグフィックス**以外**のとき："close: (修正内容を簡潔に示すタイトル)"

# 作業の流れのサンプル

以上のルールに基づき，「PWA対応」を行う場合の作業手順のサンプルを示します．

1. ローカルブランチをmainに切り替える．この時未コミットの変更があるなどの理由でmainブランチへの切り替えに失敗したら，ユーザに対処方法を確認すること．
```
git checkout main
```
2. ローカルのmainブランチを最新化する
```
git pull
```
3. ローカルでブランチを作成する
```
git checkout -b feature/pwa
```
4. 改修作業を行う
5. 改修作業の対となるテストを必ず実装する．
6. 改修対象以外のファイルも含めて全てのテストを実行し，テストが成功することを確認する．
7. ファイルをステージングする
```
git add *
```
8. ユーザにコミット対象ファイルに過不足がないか確認する
9. ファイルをコミットする
```
git commit -m "close #(issue の番号): (issue のタイトル)"
```
10. ブランチをプッシュする
```
git push -u origin feature/pwa
```
11. mainブランチに対してプルリクエストを作成する